# 秒杀系统详细设计

## 后端
项目采用maven工程构建管理, 基于springboot, 数据库使用mysql, 缓存使用redis,消息队列使用

### 整体功能
系统使用用户角色分为三类:系统管理员,商户管理员,普通用户
系统管理员功能:
1. 商户管理员功能  
2. 用户管理  
3. 功能权限管理  


商户管理员功能:
1. 普通用户功能  
2. 管理商品  
3. 用户黑白红名单  
4. 秒杀活动管理


普通用户功能:
1. 浏览商品  
2. 收藏商品  
3. 秒杀商品  


基本功能:  
游客浏览页面 --> 注册(登录) --> 查看某件商品 --> 参与秒杀 --> 反馈结果

项目模块-拆分开来,方便以后的代码复用:  
1. 用户管理 user-manger  
2. 权限管理 auth-manger  
3. 商品管理 goods-manger  
4. 秒杀活动 seckill  
5. 主程序 start-main  
6. 通用工具 common  


### 4. 秒杀模块设计  


秒杀和直接购买的区别  
秒杀  
1. 时间限制 时间范围内可购买
2. 数量限制 总库存数量,每人限购数量
3. 优惠券限制
4. 直接购买,立即提交订单  
5. 支付时间限制

秒杀=校验用户状态+校验商品库存+校验订单信息+提交订单+修改商品库存  


模块结构:

统一对外暴露接口  
seckill-api  
通用类  
seckill-common  
界面ui控制  
seckill-ui  
业务逻辑  
seckill-service

seckill-api设计
1. 核心部分  
    1. 查询秒杀活动
    2. 创建秒杀活动
    3. 参与秒杀
    4. 秒杀活动结束
    
2. ui配置
    1. 展示时ui查询
    2. 创建时ui配置
    3. 活动中ui修改
    4. 活动结束ui恢复
    
3. 其他相关
    1. 用户参与情况查询
    2. 商品情况
    3. 

购买  
直接购买
1. 选择型号等  
2. 选择数量
3. 选择地址  
4. 选择优惠券  
5. 提交订单  
6. 选择支付方式,20分钟内支付  
7. 状态跟踪,未发货状态可修改地址.
8. 取消订单.  

加入购物车
1. 多项选择提交订单
2. 修改数量
3. 移出购物车
4. 优惠券条件判断
5. 取消单件商品

## 前端