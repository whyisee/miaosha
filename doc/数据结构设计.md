# 数据结构设计

## 主要业务数据存储在mysql

### 秒杀模块相关 
想要做到的效果是秒杀和其他业务隔离.  
这个模块可以用在电商秒杀上面  
也可以用在抢票上  
和资源分配这方面  

用户 秒杀 商品 的关系
秒杀是商品的一个特殊属性  
秒杀是用户的一个特殊动作  
秒杀的结果是用户和商品建立了连接关系
U S G 的关系

从秒杀的场景来看
只需要建立S的有关的表
SG关系表-  

| 属性 | 名称 | 说明 | 
| --- | --- | --- |
| 1 |必要属性-S唯一标识 | |
| |必要属性-G唯一标识| |
| |必要属性-记录的有效性 | |
| |秒杀属性-开始时间| | 
| |秒杀属性-结束时间| |
| |秒杀属性-库存| |
| |秒杀属性-秒杀状态| |
| |完善属性-创建时间| |
| |完善属性-创建人| |
| |完善属性-更新时间| |
| |完善属性-更新人| |

US关系表-U秒杀成功/记录表

| 属性 | 名称 | 说明 | 
| --- | --- | --- |
| 1 |必要属性-US唯一标识 | |
| 1 |必要属性-S唯一标识 | |
| |必要属性-U唯一标识| |
| |必要属性-记录的有效性 | |
| |必要属性-用户发起S时间| | 
| |必要属性-用户S结果| |
| |完善属性-创建时间| |
| |完善属性-创建人| |
| |完善属性-更新时间| |
| |完善属性-更新人| |

把秒杀属性分离出来

属性配置表  

| 属性 | 名称 | 说明 | 
| --- | --- | --- |
| | 属性ID | |
| | 属性类型 | |
| | 属性标识 | |
| | 属性名称 | |
| | 属性说明 | |
| |完善属性-创建时间| |
| |完善属性-创建人| |
| |完善属性-更新时间| |
| |完善属性-更新人| |

属性数据表

| 属性 | 名称 | 说明 | 
| --- | --- | --- |
| | 属性数据ID | |
| | 属性ID | |
| | 属性标识 | |
| | 属性名称 | |
| | 属性值 | |
| |完善属性-创建时间| |
| |完善属性-创建人| |
| |完善属性-更新时间| |
| |完善属性-更新人| |